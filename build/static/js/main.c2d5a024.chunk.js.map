{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/PersonInfo.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Filter","searchPerson","handleSearch","placeholder","value","onChange","PersonForm","newName","handleName","telephoneNumber","handleTelNo","addPerson","type","onClick","PersonInfo","person","removePerson","name","telNo","Notification","notification","message","className","baseUrl","axios","get","then","response","data","newPerson","post","id","put","delete","App","useState","persons","setPersons","setNewName","setTelephoneNumber","setSearchPerson","notificationMessage","setNotificationMessage","useEffect","personService","initialPersons","results","filter","toLowerCase","includes","toLocaleLowerCase","event","target","preventDefault","personObject","some","window","confirm","previousPerson","find","updatedPerson","map","setTimeout","catch","error","returnedPerson","concat","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c2d5a024.chunk.js","sourcesContent":["const Filter = ({ searchPerson, handleSearch }) => (\n  <div>\n    Filter shown with\n    &nbsp;\n    <input\n      placeholder='Search'\n      value={searchPerson}\n      onChange={handleSearch}\n    />\n  </div>    \n)\n\nexport default Filter\n","const PersonForm = ({\n  newName,\n  handleName,\n  telephoneNumber,\n  handleTelNo,\n  addPerson,\n}) => (\n  <form>\n    <div>\n      Name\n      &nbsp;\n      <input\n        placeholder='John Doe'\n        value={newName}\n        onChange={handleName}\n      />\n    </div>\n    <div>\n      Number\n      &nbsp;\n      <input\n        placeholder='Enter tel no'\n        value={telephoneNumber}\n        onChange={handleTelNo}\n      />\n    </div>\n    <br />\n    <div>\n      <button type='submit' onClick={addPerson}>\n        Add\n      </button>\n    </div>\n  </form>\n)\n\nexport default PersonForm\n","const PersonInfo = ({ person, removePerson }) => (\n  <li>\n    {person.name}, {person.telNo}\n    &nbsp;\n    <button onClick={removePerson}>Delete</button>\n  </li>    \n)\n\nexport default PersonInfo\n","const Notification = ({ notification}) => {\n  if (notification === null) return null\n  const {message, type} = notification\n  \n  return (\n    <div className={`notification ${type}`}>\n      {message}\n    </div>\n  )\n}\n\nexport default Notification\n","/* eslint-disable import/no-anonymous-default-export */\nimport axios from 'axios'\n\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = newPerson => {\n  const request = axios.post(baseUrl, newPerson)\n  return request.then(response => response.data)\n}\n\nconst update = (id, newPerson) => {\n  const request = axios.put(`${baseUrl}/${id}`, newPerson)\n  return request.then(response => response.data)\n}\n\nconst remove = (id, person) => {\n  const request = axios.delete(`${baseUrl}/${id}`, person)\n  return request.then(response => response.data)\n}\n\n\nexport default {\n  getAll,\n  create,\n  update,\n  remove\n}\n","import React, { useState, useEffect } from 'react'\n\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport PersonInfo from './components/PersonInfo'\nimport Notification from './components/Notification'\nimport personService from './services/persons'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [telephoneNumber, setTelephoneNumber] = useState('')\n  const [searchPerson, setSearchPerson] = useState('')\n  const [notificationMessage, setNotificationMessage] = useState(null)\n\n  const handleName = event => setNewName(event.target.value)\n\n  const handleTelNo = event => setTelephoneNumber(event.target.value)\n\n  const handleSearch = event => setSearchPerson(event.target.value)  \n  \n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialPersons => setPersons(initialPersons))\n  })\n\n  const addPerson = event => {\n    event.preventDefault()\n\n    const personObject = {\n      name: newName,\n      telNo: telephoneNumber\n    }\n\n    if (persons.some(person => person.name === newName)) {\n      if (window.confirm(`${newName} is already added to the Phone Book. Would you like to replace the old number with the new one?`)) {\n        const previousPerson = (persons.find(person => person.name === newName))\n        personService\n          .update(previousPerson.id, { name: previousPerson.name, telNo: telephoneNumber })\n          .then(updatedPerson => {\n            setPersons(persons.map(person => person.name === newName ? updatedPerson : person))\n            setNewName('')\n            setTelephoneNumber('')        \n            setTimeout(() => setNotificationMessage({ message: `Successfully updated telephone number for ${newName}`, type: 'success' }), 1000)\n          })\n          .catch(error => setNotificationMessage({ message: `${error.response.data.error}`, type: 'error' }))\n      }\n    } else {\n      personService\n        .create(personObject)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson))        \n          setNewName('')\n          setTelephoneNumber('')                \n          setTimeout(() => setNotificationMessage({ message: `Successfully added ${newName}`, type: 'success' }), 1000)\n        })\n        .catch(error => {\n          setNotificationMessage({ message: `${error.response.data.error}`, type: 'error' })\n        })\n    }\n  }\n\n  const removePersonOf = id => {\n    return () => {\n      const person = persons.find(person => person.id === id)\n\n      if (window.confirm(`Remove ${person.name}?`)) {\n        personService.remove(id, person)\n        .then(() => {\n          setPersons(persons.filter(person => person.id !== id))\n          setNewName('')\n          setTelephoneNumber('')\n          setTimeout(() => setNotificationMessage({ message: `Successfully removed ${person.name}`, type: 'success' }), 1000)\n        })\n        .catch(error => setNotificationMessage({ message: `${error}`, type: 'error' }))\n      }\n    }\n  }\n\n  const results = !searchPerson\n    ? persons\n    : persons.filter(person =>\n        person.name.toLowerCase().includes(searchPerson.toLocaleLowerCase())\n      )\n\n  return (\n    <div>\n      <h1>Phonebook</h1>\n      <Notification notification={notificationMessage} />\n      <Filter searchPerson={searchPerson} handleSearch={handleSearch} />\n      <h2>Add a New Contact</h2>\n      <PersonForm\n        newName={newName}\n        handleName={handleName}\n        telephoneNumber={telephoneNumber}\n        handleTelNo={handleTelNo}\n        addPerson={addPerson}\n      />\n      <h2>Numbers</h2>\n      <ul>\n        {results.map(person => (      \n          <PersonInfo           \n            person={person} \n            key={person.id}\n            removePerson={removePersonOf(person.id)}\n          />\n        ))}\n      </ul>\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}