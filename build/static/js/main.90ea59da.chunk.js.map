{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/PersonInfo.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Filter","searchPerson","handleSearch","placeholder","value","onChange","PersonForm","newName","handleName","telephoneNumber","handleTelNo","addPerson","type","onClick","PersonInfo","person","removePerson","name","telNo","Notification","notification","message","className","baseUrl","personService","getAll","axios","get","then","response","data","create","newPerson","post","update","id","put","remove","delete","App","useState","persons","setPersons","setNewName","setTelephoneNumber","setSearchPerson","notificationMessage","setNotificationMessage","useEffect","initialPersons","results","filter","toLowerCase","includes","toLocaleLowerCase","event","target","preventDefault","personObject","length","window","confirm","previousPerson","find","updatedPerson","map","catch","error","concat","setTimeout","returnedPerson","removePersonOf","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.90ea59da.chunk.js","sourcesContent":["const Filter = ({ searchPerson, handleSearch }) => (\n  <div>\n    Filter shown with\n    &nbsp;\n    <input\n      placeholder='Search'\n      value={searchPerson}\n      onChange={handleSearch}\n    />\n  </div>    \n)\n\nexport default Filter\n","const PersonForm = ({\n  newName,\n  handleName,\n  telephoneNumber,\n  handleTelNo,\n  addPerson,\n}) => (\n  <form>\n    <div>\n      Name\n      &nbsp;\n      <input\n        placeholder='John Doe'\n        value={newName}\n        onChange={handleName}\n      />\n    </div>\n    <div>\n      Number\n      &nbsp;\n      <input\n        placeholder='Enter tel no'\n        value={telephoneNumber}\n        onChange={handleTelNo}\n      />\n    </div>\n    <br />\n    <div>\n      <button type='submit' onClick={addPerson}>\n        Add\n      </button>\n    </div>\n  </form>\n)\n\nexport default PersonForm\n","const PersonInfo = ({ person, removePerson }) => (\n  <li>\n    {person.name}, {person.telNo}\n    &nbsp;\n    <button onClick={removePerson}>Delete</button>\n  </li>    \n)\n\nexport default PersonInfo\n","const Notification = ({ notification}) => {\n  if (notification === null) return null\n  const {message, type} = notification\n  \n  return (\n    <div className={`notification ${type}`}>\n      {message}\n    </div>\n  )\n}\n\nexport default Notification\n","import axios from 'axios'\n\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = newPerson => {\n  const request = axios.post(baseUrl, newPerson)\n  return request.then(response => response.data)\n}\n\nconst update = (id, newPerson) => {\n  const request = axios.put(`${baseUrl}/${id}`, newPerson)\n  return request.then(response => response.data)\n}\n\nconst remove = (id, person) => {\n  const request = axios.delete(`${baseUrl}/${id}`, person)\n  return request.then(response => response.data)\n}\n\nconst personService = {\n  getAll, \n  create, \n  update, \n  remove\n}\n\nexport default personService\n","import React, { useState, useEffect } from 'react'\n\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport PersonInfo from './components/PersonInfo'\nimport Notification from './components/Notification'\nimport personService from './services/persons'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [telephoneNumber, setTelephoneNumber] = useState('')\n  const [searchPerson, setSearchPerson] = useState('')\n  const [notificationMessage, setNotificationMessage] = useState(null)\n\n  const handleName = event => setNewName(event.target.value)\n\n  const handleTelNo = event => setTelephoneNumber(event.target.value)\n\n  const handleSearch = event => setSearchPerson(event.target.value)  \n  \n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialPersons => setPersons(initialPersons))\n  }, [searchPerson])\n\n  const addPerson = event => {\n    event.preventDefault()\n    const personObject = {\n      name: newName,\n      telNo: telephoneNumber      \n    }\n\n    if (persons.filter(person => person.name === personObject.name).length > 0) {\n      if (window.confirm(`${personObject.name} is already added to the Phone Book. Would you like to replace the old number with the new one?`)) {\n        const previousPerson = (persons.find(person => person.name === personObject.name))\n        personService\n          .update(previousPerson.id, { ...previousPerson, telNo: telephoneNumber })\n          .then(updatedPerson => {\n            setPersons(persons.map(person => person.name === newName ? updatedPerson : person))\n          })\n          .catch(error => setNotificationMessage({ message: `${error}`, type: 'error' }))\n        setPersons(persons.concat(personObject))\n        setNewName('')\n        setTelephoneNumber('')        \n        setTimeout(() => setNotificationMessage({ message: `Successfully updated telephone number for ${personObject.name}`, type: 'success' }), 2000)\n      }\n    } else {\n      personService\n        .create(personObject)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson))        \n          setNewName('')\n          setTelephoneNumber('')                \n          setTimeout(() => setNotificationMessage({ message: `Successfully added ${personObject.name}`, type: 'success' }), 2000)\n        })\n        .catch(error => setNotificationMessage({ message: `${error}`, type: 'error' }))\n    }\n  }\n\n  const removePersonOf = id => {\n    const person = persons.find(person => person.id === id)\n\n    if (window.confirm(`Remove ${person.name}?`)) {\n      personService.remove(id, person)\n      .then(() => {\n        setPersons(persons.filter(person => person.id !== id))\n        setNewName('')\n        setTelephoneNumber('')\n        setTimeout(() => setNotificationMessage({ message: `Successfully removed ${person.name}`, type: 'success' }), 2000)\n      })\n      .catch(error => setNotificationMessage({ message: `${error}`, type: 'error' }))\n    }\n  }\n\n  const results = !searchPerson\n    ? persons\n    : persons.filter(person =>\n        person.name.toLowerCase().includes(searchPerson.toLocaleLowerCase())\n      )\n\n  return (\n    <div>\n      <h1>Phonebook</h1>\n      <Notification notification={notificationMessage} />\n      <Filter searchPerson={searchPerson} handleSearch={handleSearch} />\n      <h2>Add a New Contact</h2>\n      <PersonForm\n        newName={newName}\n        handleName={handleName}\n        telephoneNumber={telephoneNumber}\n        handleTelNo={handleTelNo}\n        addPerson={addPerson}\n      />\n      <h2>Numbers</h2>\n      <ul>\n        {results.map(person => (      \n          <PersonInfo           \n            person={person} \n            key={person.id}\n            removePerson={() => removePersonOf(person.id)}             \n          />\n        ))}\n      </ul>\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}